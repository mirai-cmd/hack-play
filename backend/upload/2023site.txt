https://shreyasjamkhandi.tech/

https://xtremegameshop.netlify.app/

#include<stdio.h>
#include<stdlib.h>
#include<sys/stat.h>
#include<unistd.h>
#include<time.h>
#include<dirent.h>
#include<string.h>
#include<sys/sysmacros.h>

void _print_details(struct stat file_stats,struct dirent *dir_entry){
    char time_str[30];
    strcpy(time_str,ctime(&file_stats.st_mtime));
    int len = strlen(time_str);
    time_str[len-9]='\0';
    printf(
            "%o\t%ld\t%ld\t%ld\t%lld\t%s\t%s\n",
            file_stats.st_mode,
            (long)file_stats.st_nlink,
            (long)file_stats.st_uid,
            (long)file_stats.st_gid,
            (long long)file_stats.st_size,
            time_str,
            dir_entry->d_name
        );
}
void _list_files(){
    int i=0;
    char dir_path[200],tmp_path[200];
    struct stat file_stats;
    DIR* dp;
    struct dirent *dir_entry;
    getcwd(dir_path,sizeof(dir_path));
    strcat(dir_path,"/");
    dp=opendir(dir_path);
    if(dp != NULL){
        while ((dir_entry = readdir(dp))){
                if(dir_entry->d_name[0] != '.'){
                    strcat(tmp_path,dir_entry->d_name);
                    if( lstat( tmp_path , &file_stats) == -1){
                        printf("Failed to list files\n");
                        exit(EXIT_FAILURE);
                    }
                _print_details(file_stats,dir_entry);
            }
            strcpy(tmp_path,dir_path);
        }
    }
    //printf("CWD: %s",dir);
}

int main(){
    _list_files();
    return 0;
}